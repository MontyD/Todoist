<nav class="top">
    <div class="container">
        <a class="home-link" target="_self" href="/" title="Home">Todoist | {{settings.roomName}}</a>
        <ul>
            <li><a ui-sref="home" title="Todo">Todos</a></li>
            <li><a ui-sref="overview" title="Overview">Overview</a></li>
            <li><a ui-sref="settings" title="Settings" class="current">Settings</a></li>
            <li><a target="_self" href="/rooms/login/" title="Logout">Logout</a></li>
        </ul>
    </div>
</nav>
<main class="container">
  <section class="modal light">
    <h2>{{settings.roomName}} Settings</h2>
    <article class="settings-article" ng-if="settings.completed">
      <div class="halves left-aligned vertical-middle">
        Remove completed todos:
        <span class="explaination-text">This cannot be undone</span>
      </div>
      <div class="halves vertical-middle">
        <button ng-if="!settings.confirmingDeleteTasks" class="button danger" ng-click="settings.toggleConfirmingDeleteTasks()">Remove Completed</button>
        <div ng-if="settings.confirmingDeleteTasks" class="button-group">
          <button class="button secondary" ng-click="settings.toggleConfirmingDeleteTasks()">Cancel</button>
          <button class="button danger" ng-click="settings.deleteCompletedTasks()">Confirm</button>
        </div>
      </div>
    </article>
    <article class="settings-article">
      <div class="halves left-aligned vertical-middle">
        Log out all members of this room:<span class="explaination-text">You will also be logged out</span>
      </div>
      <div class="halves vertical-middle">
        <button ng-if="!settings.confirmingLogOut" class="button secondary" ng-click="settings.toggleConfirmingLogOut()">Log all out</button>
        <div ng-if="settings.confirmingLogOut" class="button-group">
          <button class="button secondary" ng-click="settings.toggleConfirmingLogOut()">Cancel</button>
          <button class="button primary" ng-click="settings.logAllOut()">Confirm</button>
        </div>
      </div>
    </article>
    <article class="settings-article">
      <p class="left-aligned">
        Change the email address associated with this room:
      </p>
      <form class="inline" name="emailAddressForm" ng-submit="updateEmail()" novalidate="novalidate">
        <label for="email">New email address:</label>
        <input type="email" id="email" name="email" required="requied" />
        <label for="email-confirm" >Confirm email address:</label>
        <input type="email" id="email-confirm" name="email-confirm" required="requied" />
        <input type="submit" class="button secondary" value="Change Email" />
      </form>
    </article>
    <article class="settings-article">
      <p class="left-aligned">
        Change the password for this room:
      </p>
      <form class="inline" name="emailAddressForm" ng-submit="updatePassword()" novalidate="novalidate">
        <label for="current-password">Current password:</label>
        <input type="password" id="current-password" name="current-password" required="requied" />
        <label for="password">New password:</label>
        <input type="password" id="password" name="password" required="requied" />
        <label for="password-confirm" >Confirm password:</label>
        <input type="password" id="password-confirm" name="password-confirm" required="requied" />
        <input type="submit" class="button secondary" value="Change Password" />
      </form>
    </article>

    <article class="settings-article">
      <div class="halves left-aligned vertical-middle">
        Delete this room completely:<span class="explaination-text">This cannot be undone</span>
      </div>
      <div class="halves vertical-middle">
        <button class="button danger" ng-click="settings.confirmingDeleteRoom()">Delete this room</button>
      </div>
    </article>
  </section>
</main>
